\doxysection{uart.\+h}
\hypertarget{uart_8h_source}{}\label{uart_8h_source}\index{drivers/uart.h@{drivers/uart.h}}
\mbox{\hyperlink{uart_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <lcom/lcf.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{byteQueue_8h}{byteQueue.h}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ BAUD\_115200\ 1}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ BAUD\_57600\ \ 2}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#define\ BAUD\_38400\ \ 3}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ BAUD\_19200\ \ 6}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ BAUD\_9600\ \ \ 12}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#define\ BAUD\_4800\ \ \ 24}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ BAUD\_2400\ \ \ 48}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#define\ BAUD\_1200\ \ \ 96}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ NO\_PARITY\ 0}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ ODD\_PARITY\ BIT(3)}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#define\ EVEN\_PARITY\ BIT(3)\ |\ BIT(4)}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#define\ C\_PARITY\_1\ BIT(3)\ |\ BIT(5)}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ C\_PARITY\_2\ BIT(3)\ |\ BIT(4)\ |\ BIT(5)}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ COM1\_UART\_ADDRESS\ 0x3F8}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ COM2\_UART\_ADDRESS\ 0x2F8}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ COM1\_UART\_IRQ\ 4}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ COM2\_UART\_IRQ\ 3}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//register\ offsets}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ UART\_RBR\ 0}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ UART\_THR\ 0}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#define\ UART\_IER\ 1}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ UART\_IIR\ 2}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#define\ UART\_FCR\ 2}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#define\ UART\_LCR\ 3}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ UART\_MCR\ 4}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ UART\_LSR\ 5}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#define\ UART\_MSR\ 6}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#define\ UART\_SR\ \ 7}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#define\ DLL\ \ \ \ \ 0x00\ \ }}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#define\ DLM\ \ \ \ \ 0x01\ \ }}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{comment}{//FIFO}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#define\ FIFO\_ENABLE\ \ \ \ \ \ \ \ \ BIT(0)}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ FIFO\_CLR\_RCVR\ \ \ \ \ \ \ BIT(1)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#define\ FIFO\_CLR\_SEND\ \ \ \ \ \ \ BIT(2)}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#define\ FIFO\_ONE\_BYTE\ \ \ \ \ \ \ 0}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#define\ IIR\_RECV\_DATA\_AVAIL\ BIT(2)}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#define\ IIR\_TRNSMT\_EMPTY\ \ \ \ BIT(1)}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#define\ IIR\_STATUS\ \ \ \ \ \ \ \ \ \ BIT(1)\ |\ BIT(2)}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{comment}{//IER}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#define\ ENABLE\_RECEIVE\_DATA\_INTERRUPT\ BIT(0)}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#define\ ENABLE\_TRANSMIT\_HOLDING\_EMPTY\_INTERRUPT\ BIT(1)}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#define\ ENABLE\_RECEIVER\_LINE\_STATUS\_INTERRUPT\ BIT(2)}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#define\ ENABLE\_MODEM\_STATUS\_INTERRUPT\ BIT(3)}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{comment}{//LCR}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#define\ WORD\_LENGTH(n)\ \ (n\ -\/\ 5)}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#define\ STOP\_BIT\_1\ \ \ \ \ \ 0x00}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#define\ STOP\_BIT\_2\ \ \ \ \ \ BIT(2)}}
\DoxyCodeLine{00069\ \textcolor{comment}{//parity\ on\ enum\ on\ top\ of\ file}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ LATCH\_CONF\ \ \ \ \ \ BIT(7)}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{comment}{//Line\ Status\ Register}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#define\ DATA\_READY\ BIT(0)}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#define\ OVERRUN\_ERROR\ BIT(1)}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#define\ PARITY\_ERROR\ BIT(2)}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#define\ FRAMING\_ERROR\ BIT(3)}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#define\ BREAK\_INTERRUPT\ BIT(4)}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ EMPTY\_THR\ BIT(5)}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#define\ EMPTY\_DLL\ BIT(6)}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#define\ FIFO\_ERROR\ BIT(7)}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00091\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a83e7f5ec4152bfb560bd263fe2c05bf9}{uart\_init}}(uint8\_t\ port,\ uint16\_t\ rate,\ uint8\_t\ word\_length,\ uint8\_t\ stop,\ uint8\_t\ par);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00099\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a9e0dfea923153454ad29b1135d3aea32}{setBaud}}(uint8\_t\ port,\ uint16\_t\ rate);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00105\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{uart_8h_a40ac6bc4df05fedd1ca9e9a29657ae71}{uart\_ih}}(uint8\_t\ port);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00112\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_af568f20977751d221845703446f85458}{uart\_enable\_fifo}}(uint8\_t\ port);}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00120\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a3f440cc473704775ef30fc2574bea9b0}{uart\_set\_IER}}(uint8\_t\ port,\ uint8\_t\ ctrl);}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00128\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a3664ba594ebb5ec6581bb3753d37c799}{uart\_get\_line\_status}}(uint8\_t\ port,\ uint8\_t\ *\mbox{\hyperlink{p6502_8c_ade818037fd6c985038ff29656089758d}{status}});}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00136\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_aa4bb5abc95371e8ccb3bde1939c056fb}{uart\_subscribe\_int}}(uint8\_t\ port,\ \textcolor{keywordtype}{int}\ *bit\_no);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00143\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a220df6aba93cd09786622d3ce7071803}{uart\_unsubscribe\_int}}(uint8\_t\ port);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00150\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a79cbc6b16e923ea7cffa8957f7b10267}{uart\_exit}}(uint8\_t\ port);}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00158\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_aa13853c86997e8e8b873ebe0aef6f9c2}{uart\_get\_int\_id}}(uint8\_t\ port,\ uint8\_t\ *\textcolor{keywordtype}{id});}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00166\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a7c7ed8a18991860735e2818c475f225e}{uart\_send\_byte}}(uint8\_t\ port,\ uint8\_t\ \textcolor{keywordtype}{byte});}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00174\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{uart_8h_a3e03a9bdfe77be72cdd6f5ece1a11755}{uart\_recv\_front}}(uint8\_t\ port,\ uint8\_t\ *\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00182\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{uart_8h_a690d1bef8b092c046634f8a34d78df30}{uart\_receive\_byte}}(uint8\_t\ port,uint8\_t\ *\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00189\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{uart_8h_a4da8973b8f8416960c94665aa444b7f6}{uart\_push}}(uint8\_t\ port,\ uint8\_t\ \textcolor{keywordtype}{byte});}

\end{DoxyCode}
